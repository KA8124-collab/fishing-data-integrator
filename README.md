# fishing-data-integrator
釣行データと気象庁公開データをGoogle Apps Scriptで統合する個人開発ツール

## 概要
釣行日、時間、場所をgoogleスプレッドシートに入力すると、近傍観測点における対応する時間帯(1時間刻み)の気象・潮汐データを気象庁公式サイトから取得し、書き出します。

## ステータス
Experimental / v0.5

## 制限事項
- 同一日内の釣行のみ対応(日を跨ぐと別IDが付与される)
- 開始時刻と終了時刻は1〜23時対応
  - 0時の場合気象庁サイトの仕様により気象情報が取得できません
- 入力誤りによる釣行ID欠番は放置して次の番号を取得してください
- 気象・潮汐は代表観測点の生データを取得
  - 気象庁公式サイトに構造の変更があった場合、利用できなくなる可能性があります
- 分析結果・釣果予測は行わない
  - 本ツールは「データ収集の自動化」に特化し、分析はユーザごとの関心に委ねる設計としています
- 潮型（大潮等）は表示しない

## 想定ユーザ
- 日帰り釣行主体の方(上記制限事項による)
- 堤防釣りなど沿岸部での釣行を主とする方(海上予報は参照していません)
- 気象・潮汐条件と釣果をセットで記録したい方
  - 上記制限事項のとおり、分析を行う場合はご自身でスプレッドシートを操作してください。

## 想定環境
スプレッドシートに以下のシートがあることを想定しています。当該ファイルに.gsスクリプト群をコンテナバインドさせて利用してください。
- 釣行入力
  - ユーザはここに入力します。以下の列があることを想定します。
    - 釣行ID(自動入力)	釣行日(必須)	開始時(必須)	終了時(必須)	緯度(必須)	経度(必須)	釣行メモ(任意)	データ取得済
    - 緯度、経度情報はgoogle map等から入力してください。
- 気象・潮汐データ
  - データはここに出力されます。以下の列がこの順に並んでいることを想定します。
    - 釣行ID	日時	気温	風速	風向	気圧	天気	潮位
- 潮汐観測点設定
  - 気象庁の潮位表掲載地点情報をまとめた読み込み専用シートです。次の列がこの順に並んでいることを想定します。
    - name	symbol	lat	lon
- 気象観測点設定
  - 気象庁の地上気象観測網をまとめた読み込み専用シートです。次の列がこの順に並んでいることを想定します。
    - name	prec_no	block_no	lat	lon
- その他、任意で釣果情報を記録するシート等も追加可能です。
- Google Apps Scriptの外部URL取得（UrlFetch）権限を使用します。
